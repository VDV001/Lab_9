<!DOCTYPE HTML>
<html xmlns:sec="http://www.thymeleaf.org" xmlns:security="http://www.thymeleaf.org" lang="en">
<head>
  <title>Главная</title>
</head>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css">
<body class="text-center">
<main id="main-holder">
    <h1 id="login-header">Личный кабинет</h1>

    <form id="login-form">
        <sec:authorize access="isAuthenticated()">
        <h3>Добро пожаловать, ${pageContext.request.userPrincipal.name}!</h3>
        </sec:authorize>

        <sec:authorize access="!isAuthenticated()">
        <div class="wrap">
          <a class="btn btn-light" type="submit" value="вход" href="/login" style="text-decoration: none; align-items: center">Войти</a><br>
        </div>
        <div class="wrap">
          <a class="btn btn-light" type="submit" value="регистрация" href="/registration" style="text-decoration: none; align-items: center">Регистрация</a><br>
        </div>
        </sec:authorize>

        <%--<sec:authorize access="adminController">
            authenticated as <security:authentication property="pageContext.request.userPrincipal.namex" />
        </sec:authorize>--%>

        <div class="wrap">
          <a class="btn btn-light" type="submit" value="регистрация" href="/tableBooks" style="text-decoration: none; align-items: center">Книги</a><br>
        </div>
        <div class="wrap">
          <a class="btn btn-light" type="submit" value="регистрация" href="/tableReaders" style="text-decoration: none; align-items: center">Читатели</a><br>
        </div>

        <br><br>
        <sec:authorize access="isAuthenticated()">
            <div class="wrap">
                <a class="button" type="submit" value="регистрация" href="/logout" style="text-decoration: none; align-items: center">Выйти</a><br>
            </div>
        </sec:authorize>
    </form>
</main>
</body>
</html>